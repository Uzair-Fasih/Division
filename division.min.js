class WebComponent extends HTMLElement{constructor(){super()}set htmlContent(e){this.innerHTML=e}}let divisions,baseURL="",divisionsToProcess=0,divisionsProcessed=0;const fragment=e=>{let t;t=e.getAttribute("url-to-use")?e.getAttribute("url-to-use").replace(/[a-zA-Z]+\.(html)/g,""):baseURL,t+=e.getAttribute("data-to-include").replace(/(\.\/){1}/g,""),e.removeAttribute("data-to-include");let s=/^(?:file):/,i=new XMLHttpRequest,o=0;i.onreadystatechange=function(){if(4==i.readyState&&(o=i.status),s.test(location.href)&&i.responseText&&(o=200),4==i.readyState&&200==o){let s=i.responseText,o={urlToUse:t.replace(/[a-zA-Z]+\.(html)/g,"")};var n=Handlebars.compile(s);e.htmlContent=n(o),divisionsToProcess===++divisionsProcessed&&getDivisions()}else e.htmlContent='<p style="color: red">This Division couldn\'t load properly.</p>'};try{i.open("GET",t,!0),i.send()}catch(e){}},getDivisions=()=>{divisionsToProcess=0,divisionsProcessed=0,divisions=document.querySelectorAll("div-ision[data-to-include]"),0!==(divisionsToProcess=divisions.length)&&divisions.forEach(e=>{fragment(e)})};window.onload=(()=>{window.customElements.define("div-ision",WebComponent),baseURL=String(window.location.href).replace(/[a-zA-Z]+\.(html)/g,""),getDivisions()});